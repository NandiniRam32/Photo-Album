<!-- Write the html for this.
I have a webpage called MainWebpage.html, and I want to basically create a site where the background is black, and it has different boxes, 4 per row, for each major event.
The boxes shld be like a box  that's a little bigger vertically then horizontally, and then inside a smaller square within that, and then at the bottom, a name of the event. The sqaure shld be the first image that's uploaded for that event.
And then when you click on each box, there is the link with the background black, and then in the top left, in big white letters, we have the name of the event.
And then on each event's webpage, there's all the photos with a little bit of black background in between each. The photos shoud keep their own dimension ratios, and then be a lot smaller on the page
At the top, on the same line as the title, there should be a button called "Upload." If you press that ubtton, you can upload photos from your device to the page. Before the potos get finally upaloded, the page should ask for your first name, and once you submit something that's not blank or just spaces, a the bottom right of the image should be that person's name.
When you hover over each photo, it should become a little darker, and a download button should pop up on the image, just a lot smaller. If you press that button, the image should be downloaded.
Back on the main banner, the image that should appear fro that event's box should be the ifrst image uploaded to that page. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Gallery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
        }

        .main-page {
            padding: 40px 20px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .event-box {
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
            aspect-ratio: 3/4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }

        .event-box:hover {
            transform: translateY(-5px);
        }

        .event-image {
            width: 80%;
            height: 70%;
            background-color: #444;
            border-radius: 8px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #888;
        }

        .event-name {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
        }

        .event-page {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            max-width: 1200px;
            margin-left: 0;
        }

        .event-title {
            font-size: 36px;
            font-weight: bold;
            color: white;
        }

        .upload-btn {
            background-color: #444;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .upload-btn:hover {
            background-color: #555;
        }

        .photos-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .photo-item {
            position: relative;
            display: inline-block;
            margin: 10px;
            border-radius: 8px;
            overflow: hidden;
            max-width: 300px;
            transition: all 0.3s ease;
        }

        .photo-item:hover {
            filter: brightness(0.7);
        }

        .photo-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .photo-credit {
            color: white;
            font-size: 12px;
        }

        .download-btn {
            background-color: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .photo-item:hover .download-btn {
            opacity: 1;
        }

        .download-btn:hover {
            background-color: rgba(255,255,255,0.3);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal-content {
            background-color: #222;
            margin: 15% auto;
            padding: 30px;
            border-radius: 10px;
            width: 400px;
            text-align: center;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 20px 0;
            border: none;
            border-radius: 6px;
            background-color: #444;
            color: white;
            font-size: 16px;
        }

        .modal button {
            background-color: #555;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 16px;
        }

        .modal button:hover {
            background-color: #666;
        }

        .file-input {
            display: none;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .back-btn:hover {
            background-color: #555;
        }

        @media (max-width: 768px) {
            .events-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .event-header {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }
            
            .event-title {
                font-size: 28px;
            }
        }

        @media (max-width: 480px) {
            .events-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Page -->
    <div id="main-page" class="main-page">
        <div class="events-grid" id="events-grid">
            <!-- Events will be dynamically generated -->
        </div>
    </div>

    <!-- Event Pages (dynamically generated) -->
    <div id="event-pages"></div>

    <!-- Upload Modal -->
    <div id="upload-modal" class="modal">
        <div class="modal-content">
            <h3>Enter Your First Name</h3>
            <input type="text" id="user-name" placeholder="Your first name...">
            <div>
                <button onclick="submitUpload()">Submit</button>
                <button onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <input type="file" id="file-input" class="file-input" accept="image/*" multiple>

    <script>
        // Sample events data
        const events = [
            { id: 'birthday-party', name: 'Birthday Party', photos: [] },
            { id: 'wedding', name: 'Wedding', photos: [] },
            { id: 'graduation', name: 'Graduation', photos: [] },
            { id: 'vacation', name: 'Summer Vacation', photos: [] },
            { id: 'concert', name: 'Music Concert', photos: [] },
            { id: 'sports', name: 'Sports Event', photos: [] },
            { id: 'conference', name: 'Tech Conference', photos: [] },
            { id: 'anniversary', name: 'Anniversary', photos: [] }
        ];

        let currentEvent = null;
        let pendingFiles = [];

        // Initialize the page
        function init() {
            generateEventsGrid();
            generateEventPages();
        }

        function generateEventsGrid() {
            const grid = document.getElementById('events-grid');
            grid.innerHTML = '';
            
            events.forEach(event => {
                const eventBox = document.createElement('div');
                eventBox.className = 'event-box';
                eventBox.onclick = () => showEvent(event.id);
                
                const firstPhoto = event.photos.length > 0 ? event.photos[0] : null;
                const imageStyle = firstPhoto ? 
                    `background-image: url('${firstPhoto.url}');` : 
                    '';
                
                eventBox.innerHTML = `
                    <div class="event-image" style="${imageStyle}">
                        ${!firstPhoto ? 'No photos yet' : ''}
                    </div>
                    <div class="event-name">${event.name}</div>
                `;
                
                grid.appendChild(eventBox);
            });
        }

        function generateEventPages() {
            const container = document.getElementById('event-pages');
            container.innerHTML = '';
            
            events.forEach(event => {
                const eventPage = document.createElement('div');
                eventPage.id = `event-${event.id}`;
                eventPage.className = 'event-page';
                
                eventPage.innerHTML = `
                    <button class="back-btn" onclick="showMain()">← Back to Events</button>
                    <div class="event-header">
                        <h1 class="event-title">${event.name}</h1>
                        <button class="upload-btn" onclick="startUpload('${event.id}')">Upload</button>
                    </div>
                    <div class="photos-container" id="photos-${event.id}">
                        ${event.photos.length === 0 ? '<p style="text-align: center; color: #888;">No photos uploaded yet. Be the first to share!</p>' : ''}
                    </div>
                `;
                
                container.appendChild(eventPage);
                updatePhotosDisplay(event.id);
            });
        }

        function showMain() {
            document.getElementById('main-page').style.display = 'block';
            document.querySelectorAll('.event-page').forEach(page => {
                page.style.display = 'none';
            });
        }

        function showEvent(eventId) {
            document.getElementById('main-page').style.display = 'none';
            document.querySelectorAll('.event-page').forEach(page => {
                page.style.display = 'none';
            });
            document.getElementById(`event-${eventId}`).style.display = 'block';
        }

        function startUpload(eventId) {
            currentEvent = eventId;
            document.getElementById('file-input').click();
        }

        document.getElementById('file-input').addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                pendingFiles = Array.from(e.target.files);
                document.getElementById('upload-modal').style.display = 'block';
            }
        });

        function closeModal() {
            document.getElementById('upload-modal').style.display = 'none';
            document.getElementById('user-name').value = '';
            pendingFiles = [];
            currentEvent = null;
        }

        function submitUpload() {
            const userName = document.getElementById('user-name').value.trim();
            if (!userName) {
                alert('Please enter your first name');
                return;
            }
            
            const event = events.find(e => e.id === currentEvent);
            if (!event) return;
            
            let photosProcessed = 0;
            const totalPhotos = pendingFiles.length;
            
            pendingFiles.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const photo = {
                        url: e.target.result,
                        credit: userName,
                        filename: file.name
                    };
                    event.photos.push(photo);
                    photosProcessed++;
                    
                    // Update displays after each photo is processed
                    updatePhotosDisplay(currentEvent);
                    generateEventsGrid(); // Update main page thumbnails immediately
                    
                    // If this is the last photo, ensure everything is updated
                    if (photosProcessed === totalPhotos) {
                        setTimeout(() => {
                            updatePhotosDisplay(currentEvent);
                            generateEventsGrid();
                        }, 100);
                    }
                };
                reader.readAsDataURL(file);
            });
            
            closeModal();
        }

        function updatePhotosDisplay(eventId) {
            const event = events.find(e => e.id === eventId);
            const container = document.getElementById(`photos-${eventId}`);
            
            if (event.photos.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #888;">No photos uploaded yet. Be the first to share!</p>';
                return;
            }
            
            container.innerHTML = '';
            event.photos.forEach((photo, index) => {
                const photoDiv = document.createElement('div');
                photoDiv.className = 'photo-item';
                
                photoDiv.innerHTML = `
                    <img src="${photo.url}" alt="Event photo">
                    <div class="photo-overlay">
                        <div class="photo-credit">${photo.credit}</div>
                        <button class="download-btn" onclick="downloadPhoto('${eventId}', ${index})">Download</button>
                    </div>
                `;
                
                container.appendChild(photoDiv);
            });
        }

        function downloadPhoto(eventId, photoIndex) {
            const event = events.find(e => e.id === eventId);
            const photo = event.photos[photoIndex];
            
            const link = document.createElement('a');
            link.href = photo.url;
            link.download = photo.filename || `photo-${photoIndex + 1}.jpg`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        window.onload = init;
    </script>
</body>
</html>

